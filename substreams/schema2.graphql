type Erc20 @entity(immutable: false) {
    id: ID!
    name: String!
    symbol: String!
    decimals: BigInt!
    totalSupply: BigInt!
}

type TokenDeployment @entity(immutable: false) {
    id: ID!
    blocknumber: BigInt!
    timestamp: BigInt!
    txHash: String
    token: Erc20 @derivedFrom(field: "id")
}

type TokenTransfer @entity(immutable: true) {
    id: ID!
    from: String!
    to: String!
    amount: BigInt!
    count: BigInt!
    volume: BigInt!
    token: Erc20 @derivedFrom(field: "id")
}

type TokenHolder @entity(immutable: true) {
    id: ID!
    holderAddress: String!
    tokenAddress: String!
    balance: BigInt!
    transferVolume: BigInt!
    transferCount: BigInt!
    transfers: [TokenTransfer]! @derivedFrom(field: "id")
    token: [Erc20]! @derivedFrom(field: "id")
}

